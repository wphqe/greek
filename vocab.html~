<!DOCTYPE html>
<head>
  <meta charset='utf8'>
  <title>Vocabulary tester</title>
  <link rel='stylesheet' type='text/css' href='greek.css'>
</head>
<body>
  <div id='box'></div>
  <div id='answerBox'>
    <input type='text' id='answerText' placeholder='Type your answer here:'>
    <button onclick='submitAnswer()'>Submit</button>
  </div>
  <script type='text/javascript' id='wordfile' src='words.js' onload="console.log('words loaded.')"></script>
  <script defer>
    function $(id){
      return document.getElementById(id);
    }
    var max = 5;//total number of questions
    var randI=0;//index of word being tested
    var box = $('box');
    var answerBox = $('answerBox');
    var answerText = $('answerText');
    
    var startScreen = '<h2>AS Greek Vocab Tester</h2><button onclick="startTest(\'G\')">Greek to English</button>';
    ////////////////
    //the following section is ~an initialisation
    //NB the variable words is from the other script file!
    if(!words){
      console.log('ERROR: word list empty');
    }
    fillBox(startScreen);
    i = 0;
    ///////////////
    function fillBox(text){
      box.innerHTML = text;
    }
    function startTest(dir){
      i=0;
      contTest(dir);
    }
    
    function contTest(dir){
      randI = Math.floor(Math.random()*words.length);
      if(dir=='G'){
        var greek = words[randI][0].join(', ');
        fillBox('Translate into English:<br><strong>'+greek+'</strong>');
        answerText.focus();
        window.addEventListener('keypress',function(e){
          if(e.key == 'Enter'){
            submitAnswer();
          }
        });
      }
    }


    function submitAnswer(){
      console.log('submit');
    }
  </script>
</body>
</html>
